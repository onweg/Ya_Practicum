<!DOCTYPE html>
<html>
<head>
  <title>Плотная упаковка</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta charset="utf-8">
<style>body{font-family:Helvetica,arial,sans-serif;font-size:14px;line-height:1.6;background-color:#fff;padding:30px;color:#333;max-width:1140px;margin:0 auto}body > :first-child{margin-top:0!important}body > :last-child{margin-bottom:0!important}a{color:#4183C4;text-decoration:none}a.absent{color:#c00}a.anchor{display:block;padding-left:30px;margin-left:-30px;cursor:pointer;position:absolute;top:0;left:0;bottom:0}h1,h2,h3,h4,h5,h6{margin:20px 0 10px;padding:0;font-weight:700;-webkit-font-smoothing:antialiased;cursor:text;position:relative}h2:first-child,h1:first-child,h1:first-child + h2,h3:first-child,h4:first-child,h5:first-child,h6:first-child{margin-top:0;padding-top:0}h1:hover a.anchor,h2:hover a.anchor,h3:hover a.anchor,h4:hover a.anchor,h5:hover a.anchor,h6:hover a.anchor{text-decoration:none}h1 tt,h1 code{font-size:inherit}h2 tt,h2 code{font-size:inherit}h3 tt,h3 code{font-size:inherit}h4 tt,h4 code{font-size:inherit}h5 tt,h5 code{font-size:inherit}h6 tt,h6 code{font-size:inherit}h1{font-size:28px;color:#000}h2{font-size:24px;border-bottom:1px solid #ccc;color:#000}h3{font-size:18px}h4{font-size:16px}h5{font-size:14px}h6{color:#777;font-size:14px}p,blockquote,ul,ol,dl,li,table,pre{margin:15px 0}hr {padding:0;margin-bottom:-8px;height:1px;border:none;background:black}body > h2:first-child{margin-top:0;padding-top:0}body > h1:first-child{margin-top:0;padding-top:0}body > h1:first-child + h2{margin-top:0;padding-top:0}body > h3:first-child,body > h4:first-child,body > h5:first-child,body > h6:first-child{margin-top:0;padding-top:0}a:first-child h1,a:first-child h2,a:first-child h3,a:first-child h4,a:first-child h5,a:first-child h6{margin-top:0;padding-top:0}h1 p,h2 p,h3 p,h4 p,h5 p,h6 p{margin-top:0}li p.first{display:inline-block}ul,ol{padding-left:30px}ul :first-child,ol :first-child{margin-top:0}ul :last-child,ol :last-child{margin-bottom:0}dl{padding:0}dl dt{font-size:14px;font-weight:700;font-style:italic;padding:0;margin:15px 0 5px}dl dt:first-child{padding:0}dl dt > :first-child{margin-top:0}dl dt > :last-child{margin-bottom:0}dl dd{margin:0 0 15px;padding:0 15px}dl dd > :first-child{margin-top:0}dl dd > :last-child{margin-bottom:0}blockquote{border-left:4px solid #ddd;padding:0 15px;color:#777}blockquote > :first-child{margin-top:0}blockquote > :last-child{margin-bottom:0}table{padding:0}table tr{border-top:1px solid #ccc;background-color:#fff;margin:0;padding:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:700;border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr td{border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr th :first-child,table tr td :first-child{margin-top:0}table tr th :last-child,table tr td :last-child{margin-bottom:0}img{max-width:100%;display:block}span.frame{display:block;overflow:hidden}span.frame > span{border:1px solid #ddd;display:block;float:left;overflow:hidden;margin:13px 0 0;padding:7px;width:auto}span.frame span img{display:block;float:left}span.frame span span{clear:both;color:#333;display:block;padding:5px 0 0}span.align-center{display:block;overflow:hidden;clear:both}span.align-center > span{display:block;overflow:hidden;margin:13px auto 0;text-align:center}span.align-center span img{margin:0 auto;text-align:center}span.align-right{display:block;overflow:hidden;clear:both}span.align-right > span{display:block;overflow:hidden;margin:13px 0 0;text-align:right}span.align-right span img{margin:0;text-align:right}span.float-left{display:block;margin-right:13px;overflow:hidden;float:left}span.float-left span{margin:13px 0 0}span.float-right{display:block;margin-left:13px;overflow:hidden;float:right}span.float-right > span{display:block;overflow:hidden;margin:13px auto 0;text-align:right}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px}pre code{margin:0;padding:0;white-space:pre;border:none;background:transparent}.highlight pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre code,pre tt{background-color:transparent;border:none}.slasher{color:#000000}</style></head>
<body>

<h1>Плотная упаковка</h1>

<p>В этом уроке вы узнаете, как применять техники плотной упаковки. Она позволяет минимизировать количество байтов, нужных для хранения информации.</p>

<p>Плотная упаковка важна, когда память сильно ограничена, или когда, например, данные передаются большим потоком через каналы коммуникации.</p>

<p>Упакуем как следует уже известную вам структуру <code>Plate</code>:</p>

<pre><code class="language-cpp">struct Plate {
    char c1;
    int num;
    char c2;
    char c3;
    int region;
};
</code></pre>

<hr>

<p>Предположите, какой размер будет иметь максимально упакованная структура в конце этого урока.</p>

<ul>
<li><p>12 байт.</p></li>

<li><p>8 байт, меньше не выйдет.</p></li>

<li><p>4 байта и ни битом больше.</p></li>
</ul>

<p>Напоминаем, что схема размещения полей в памяти выглядит так:</p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAH0CAYAAADL8Io6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACZiSURBVHgB7d1frGVVnSfwVYY4zCRqOU7SJVG5zEszYEL1mIhKB6rTEDVpRzrS+jITKIPNvHQXKJnJvAil/TRBqJo3BiOQflIwtmkn/oGOBVH+mEgXiRCcSoayIDXVSfdQOEaJ6TRd33NqVe06nHvr3/1xz77n80kO595z7y3OPnuvtff67vVny4EDB15vAAAAAACwzi7If66++uoGAAAAAADr5fHHH29vaQAAAAAAUEAADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAA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WGL9grD3Trh11672wgsvtBd+/vN25MiRyQMAAGAtaUtkbZkscp4AOnpbw9QbwLLbcuDAgdevvvrqBrDsduzY0XZcc00DAAA4V329mUz5l68Bltnjjz+uBzRAl4VB9u/fP+mxsP2KKya9GEzJAQAAnE56OR/5u79rBw8enLQpBM8AJwmgAQZy4ZgLxjwAAAAAOD8WIQQAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoAAAAAABKCKABAAAAACghgAYAAAAAoIQAGgAAAACAEgJoGgAAAABABQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlBNAAAAAAAJQQQAMAAAAAUEIADQAAAABACQE0AAAAAAAlthw4cOD1BgAAAAAA6+yfASrFdbIe2FopAAAAAElFTkSuQmCC" alt="image" /></p>

<p>Из 16 байт 5 ушло на padding.</p>

<p>Самое простое, что можно сделать, — переупорядочить поля. Пусть поля <code>num</code> и <code>region</code> идут в начале структуры, а однобайтовые <code>c1</code>, <code>c2</code> и <code>c3</code> — в конце:</p>

<pre><code class="language-cpp">struct Plate {
    int num;
    int region;
    char c1;
    char c2;
    char c3;
};
</code></pre>

<p>Схема структуры теперь выглядит так:</p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAH0CAYAAADL8Io6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACKgSURBVHgB7d1vjF13fefxn6tI630AONuVaixIJvsoSyLFu0gESOW4alBAapVUUHiyq8QoNPuk6xiiXe0DSAz7qAok3mfZoMRRH0GDWLRUEEiFYxEgSKSORKJQS42BiKZSWxxUlQhVpf6c6198fT3j/1/fc65fL2lyZ65nJvfMOefO3Pf5nd/ZdPjw4V83AAAAAAC4yK7If3bs2NEAAAAAAOBiOXjwYPuNBgAAAAAABQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAAN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DQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAAChxRQOAy8B1113X3vKWtwzvf+c732ks1yqsjze/+c3t7W9/u+2Kiy7b1vXXXz+8/8Mf/rD94he/aCzHKu3n/Xn3tddeay+88EJbBVk3eQv7CgCMlwANwEr78Ic/3D796U8PEaH76U9/2j71qU+1J598sk3Rxz72sbZ37972rne9q73yyittSt773ve2hx56qL3tbW97474Eg0ceeaR99rOfbVORdfCJT3zilO3q85///LAsU/XNb35ziFT33HNP++IXv9im4qWXXjppXcz7whe+0Pbs2dOmIMuQ/eP973//Sfdn35jK/vH973//pP17PVN57tpoP8++sQrPVx/84AdHvx42+n2X6Pzggw8Ov1PmjX1fyTp46qmn2jPPPHPK81L/tzxnTWn7AoCzIUADsLISnxNzMtIrwTkvuPOidd++fe2xxx4bXnx/97vfbVPwnve8p1111VXt1ltvPSVOTUV+9k888cQb4SO3GY2XdZQ40sPO2OWx5u3rX//6EJvnt6uEkozCm8p2NS/LlPg8NYk2ecvI1PV+7lkfU/Hoo48OI58TnxKhsn/07a0fqBm7PMb1DgbkvsTE7C9TGKWa3x/Znxf38x5zp7I++nJk33jggQeG5Ui0vffee4fYmbA7tvWR56HsB/m9l8e/KOvhS1/60rBN3Xfffe1rX/vasK/Mh/bcPxZ5PB/4wAeGAzMf+chHTjpAc7p/A4BVIkADsLLyAjsvtnft2vXGyKncJn5mpGfC54033timIC/Eb7rppuH9LMMUX6QmgsT8qLu+PjKCNWF9CgE6kSDb1Uc/+tE37sty7N69e4giCSZTC9B5zAk3OVgztQjdT7/P6PPEwqnKOkgYnB99nu0qH2dU8V133TWZAL0okS37Rj/4NIUA3WP54n6efSTrI+trCutj/vdg/7ln+8p9WSdZzrGNts1zUA/P6/2+y3NV7ltvX8n9WaY8F4zleThxvC9Pfu7zy3O6fwOAVeIihACspIScvJDLqMjFU4zzIi+jCxOuEnan4HOf+9wQbvI21TlIM6It8WZxffQo0udYHbM+0na9YNOXY2pzkGY/yDQ12ScScaembzeZ13bKEqHWOwsg29O11147mYNl68nI7uw7U5jyoct2td6+nPuy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" alt="image" /></p>

<p>Размер стал равен 12 байтам. Простой перегрупировкой получилось сократить размер структуры на 4 байта.</p>

<p>Но можно лучше.</p>

<p>Вспомните смысл поля <code>region</code> и <code>num</code>. Это код региона и номер. То есть каждое из этих полей точно не будет превосходить 1000. В таком случае 4 байта — это слишком много. Для представления чисел от 0 до 1000 достаточно 2 байт. Используем тип <code>uint16_t</code>, сэкономив при этом суммарно 4 байта:</p>

<pre><code class="language-cpp">struct Plate {
    uint16_t num;
    uint16_t region;
    char c1;
    char c2;
    char c3;
}
</code></pre>

<p>Схема:</p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAH0CAYAAADL8Io6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB/YSURBVHgB7d1/rN11fcfxTw3Juj+QMpdYGpXL/mJCQjcTQDClRgiaaMDgj3+2QA3I/nEFJVv2j1DdX0Ys7D8GgRL/UkscGYsSWCwN8sNELIkQXJNRhThMtlHMIsQsY32d00977um57S3t+/Z8bx+P5HruPd5bzvfHuTd5nvf5fNfs3bv37QYAAAAAACfZGfmfTZs2NQAAAAAAOFl2797d3tUAAAAAAKCAAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFAAwAAAABQQoAGAAAAAKCEAA0AAAAAQAkBGgAAAACAEgI0AAAAAAAlBGgAAAAAAEoI0AAAAAAAlBCgAQAAAAAoIUADAAAAAFBCgAYAAAAAoIQADQAAAABACQEaAAAAAIASAjQAAAAAACUEaAAAAAAASgjQAAAAAACUEKABAAAAACghQAMAAAAAUEKABgAAAACghAANAAAAAEAJARoAAAAAgBICNAAAAAAAJQRoAAAAAABKCNAAAAAAAJQQoAEAAAAAKCFA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" alt="image" /></p>

<p>8 байт — отличный результат. Но можно лучше.</p>

<p>У программиста есть инструмент сэкономить биты выравнивания, усложнив при этом жизнь процессору. Это специальная директива <code>pragma pack</code>. Она сообщает процессору, что никакого выравнивания у структуры быть не должно. Все поля будут расположены одно за другим без учёта каких бы то ни было удобных коробочек.</p>

<p>Использование директивы <code>pragma pack</code> выглядит так:</p>

<pre><code class="language-cpp">#pragma pack(push, 1)
struct Plate {
    uint16_t num;
    uint16_t region;
    char c1;
    char c2;
    char c3;
};
#pragma pack(pop)
</code></pre>

<p>Теперь размер структуры стал равен 7 байтам.</p>

<p>Но можно лучше.</p>

<hr>

<p>Сколько нужно бит, чтобы хранить число в диапазоне от 0 до 1000?</p>

<ul>
<li><p>8 бит.</p></li>

<li><p>10 бит.</p></li>

<li><p>12 бит.</p></li>

<li><p>16 бит.</p></li>
</ul>

<p>Максимальное число, представимое в виде <code>n</code> бит вычисляется как 2^n-1. То есть 2 бита могут максимум представить число 2^2-1 = 3 (в двоичном формате 3 = 11), 4 бита - 2^4-1 = 15. В нашем случае 8 бит недостаточно — максимум составит 255. А 10 бит как раз хватит.</p>

<hr>

<p>Определим поля <code>num</code> и <code>region</code> как битовые:</p>

<pre><code class="language-cpp">#pragma pack(push, 1)
struct Plate {
    uint16_t num:10;
    uint16_t region:10;
    char c1;
    char c2;
    char c3;
};
#pragma pack(pop)
</code></pre>

<p>Пока мы ничего не выиграли. Но вспомните, что поля <code>c1</code> , <code>c2</code> и <code>c3</code> — это не просто символы, а буквы на автомобильном номере. В автомобильных номерах используются не все символы, а только 12 из них. Создадим массив таких символов, и вместо самих символов в структуре будем хранить индексы в этом массиве. Для хранения чисел от 0 до 12 будет достаточно 4 бит:</p>

<pre><code class="language-cpp">const static int N = 12;
const std::array&lt;char, N&gt; Letters = {
    'A', 'B', 'E', 'K', 'M', 'H', 'O', 'P', 'C', 'T', 'Y', 'X'};

#pragma pack(push, 1)
struct Plate {
    uint16_t num:10;
    uint16_t region:10;
    uint8_t c1:4;
    uint8_t c2:4;
    uint8_t c3:4;
};
#pragma pack(pop)
</code></pre>

<p>Вызвав макрос <code>sizeof</code>, программист узнает, что размер этой структуры — 6 байт.</p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAH0CAYAAADL8Io6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACvBSURBVHgB7d1djGTlmR/wdyyksBeY8W6kZZFtxrkixpJn1xJgs8JEAWFLjuwIDFcRBsGSmyyfSq5gGMhNVnzuHQExoFzxpayVlfiMDGgBg2QHS4BwRlqPARFWSrKAozWyopD5n+aFmqJ6eqbnPNVdVb+fVFR3TdOnq855znvO/7zve3bs37//owYAAAAAACM7Lv85++yzGwAAAAAAjOW5555rn2sAAAAAAFBAAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACUEEADAAAAAFBCAA0AAAAAQAkBNAAAAAAAJQTQAAAAAACU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AEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQAAAAAACUE0AAAAAAAlBBAAwAAAABQQgANAAAAAEAJATQNAAAAAKCCABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBICaAAAAAAASgigAQAAAAAoIYAGAAAAAKCEABoAAAAAgBI79u/f/1EDAAAAAICR/X/gKPL+o+Jw4QAAAABJRU5ErkJggg==" alt="image" />
 <em>Схема структуры изображена с детализацией до битов, чтобы яснее показать её устройство</em></p>

<p>Несмотря на то что поля <code>c1</code> и <code>c2</code> заявлены как тип <code>uint8_t</code>, компилятор видит, что пользователю нужно только 4 бита на каждое из них, и решает положить их в один байт, экономя место.</p>

<p>6 байт — уже достаточно круто. Но мы всё еще можем лучше.</p>

<p>Посчитаем, сколько битов занимает в памяти сами данные, без битов и байтов выравнивания. 10 бит для <code>num</code> + 10 бит для <code>region</code> + 4 бита на каждое из трёх полей с индексами символов. Итого 32 бита. Но 32 бита — это ровно 4 байта. Вся структура может уместиться в одну переменную типа <code>uint32_t</code>. Чтобы явно сказать это компилятору, определим структуру так:</p>

<pre><code class="language-cpp">const static int N = 12;
const std::array&lt;char, N&gt; Letters = {
    'A', 'B', 'E', 'K', 'M', 'H', 'O', 'P', 'C', 'T', 'Y', 'X'};

#pragma pack(push, 1)
struct Plate {
    uint32_t num:10;
    uint32_t region:10;
    uint32_t c1:4;
    uint32_t c2:4;
    uint32_t c3:4;
};
#pragma pack(pop)
</code></pre>

<p>Размер структуры сократился с 16 байт до 4, как и было обещано в начале урока.</p>

<p>Последний трюк с переходом к <code>uin32_t</code> даёт выигрыш в данном конкретном случае, но не всегда он обязателен для плотной упаковки. Посмотрите на пример:</p>

<pre><code class="language-cpp">
#pragma pack(push, 1)
struct MonitoringData {
    uint32_t time;
    uint16_t patient_id:10;
    uint8_t age:7;
    uint8_t maximum_rate;
    uint8_t minimum_rate;
}
#pragma pack(pop)
</code></pre>

<p>Это структура, содержащая данные о мониторинге пульса пациента. Поле <code>time</code> — это время мониторинга в минутах. <code>patient_id</code> — некий внутренний id пациента, не превышающий тысячи. Возраст в поле <code>age</code> предполагается не превосходящим 120. Максимальный и минимальный пульс находятся в диапазоне от 0 до 255. Размер структуры 9 байт, а схема распределения полей в памяти такая:</p>

<pre><code>*** Dumping AST Record Layout
         0 | struct MonitoringData
         0 |   uint32_t time
     4:0-9 |   uint16_t patient_id
     6:0-6 |   uint8_t age
         7 |   uint8_t maximum_rate
         8 |   uint8_t minimum_rate
           | [sizeof=9, align=1,
           |  nvsize=9, nvalign=1]
</code></pre>

<p>Поля выравниваются по границе их типов данных.</p>

<p>Если заменить все поля на <code>uint32_t</code>, никакого выигрыша не получится. Мы даже наоборот проиграем:</p>

<pre><code class="language-cpp">#pragma pack(push, 1)
struct MonitoringData {
    uint32_t time;
    uint32_t patient_id:10;
    uint32_t age:7;
    uint32_t maximum_rate:8;
    uint32_t minimum_rate:8;
}
#pragma pack(pop)
</code></pre>

<p>Размер такой структуры 12 байт. Вот как компилятор разложил поля в памяти:</p>

<pre><code>*** Dumping AST Record Layout
         0 | struct MonitoringData
         0 |   uint32_t time
     4:0-9 |   uint32_t patient_id
     5:2-8 |   uint32_t age
     6:1-8 |   uint32_t maximum_rate
     8:0-7 |   uint32_t minimum_rate
           | [sizeof=12, align=1,
           |  nvsize=12, nvalign=1]
</code></pre>

<p>Каждый раз лучше перепроверять результат упаковки, чтобы выбрать оптимальный способ.</p>

<p>Вы можете спросить, почему бы всегда не упаковывать структуры так компактно. Память не резиновая, можно и поберечь её. Ответ в том, что бесплатного сыра в программировании практически никогда не бывает.</p>

<hr>

<p>Чем программисты могут расплатиться за экономию памяти?</p>

<ul>
<li><p>Программисты — бедный народ, платить им нечем. Менеджеры разберутся.</p></li>

<li><p>Рублём.</p></li>

<li><p>Если здесь память сэкономлена, то где-нибудь её будет потрачено больше, чем нужно.</p></li>

<li><p>Быстродействием программы.</p></li>
</ul>

<p>Проведём тест, который наглядно продемонстрирует, насколько процессору сложнее работать с плотно упакованными структурами:</p>

<pre><code class="language-cpp">template &lt;typename Plate&gt;
void Test() {
    const size_t N = 500000;
    vector&lt;Plate&gt; plates(N);
    for (auto&amp; plate : plates) {
        plate.c1 = rand() % 10;
        plate.num = rand() % 1000;
        plate.c2 = rand() % 10;
        plate.c3 = rand() % 10;
        plate.region = rand() % 1000;
    }

    LOG_DURATION(typeid(Plate).name());

    for (volatile Plate&amp; plate : plates) {
        plate.c1 = (plate.c1 * 2) % 10;
        plate.region /= 5;
        plate.num = (plate.num + plate.region) % 1000;
        plate.region = (plate.region * 3) % 1000;
        plate.c2 -= plate.c3;
        plate.region = plate.c2;
        plate.c3 = (plate.c3 + 42) % 10;
        plate.region -= plate.c1;
        plate.c1 = (plate.c1 * 2) % 10;
        plate.region /= 5;
        plate.num = (plate.num + plate.region) % 1000;
        plate.region = (plate.region * 3) % 1000;
        plate.c2 -= plate.c3;
        plate.region = plate.c2;
        plate.c3 = (plate.c3 + 42) % 10;
        plate.region -= plate.c1;
        plate.c1 = (plate.c1 * 2) % 10;
        plate.region /= 5;
        plate.num = (plate.num + plate.region) % 1000;
        plate.region = (plate.region * 3) % 1000;
        plate.c2 -= plate.c3;
        plate.region = plate.c2;
        plate.c3 = (plate.c3 + 42) % 10;
        plate.region -= plate.c1;
    }
}
</code></pre>

<p>Вызовем этот тест для двух типов структур:</p>

<pre><code class="language-cpp">const static int N = 12;
const std::array&lt;char, N&gt; Letters = {'A', 'B', 'E', 'K', 'M', 'H', 'O', 'P', 'C', 'T', 'Y', 'X'};

#pragma pack(push, 1)
struct PackedPlate {
    uint32_t num:10;
    uint32_t region:10;
    uint32_t c1:4;
    uint32_t c2:4;
    uint32_t c3:4;
};
#pragma pack(pop)

struct Plate {
    char c1;
    int num;
    char c2;
    char c3;
    int region;
};

...

void main() {
    Test&lt;Plate&gt;();
    Test&lt;PackedPlate&gt;();
}
</code></pre>

<p>Результаты работы программы:</p>

<pre><code>5Plate: 18 ms
11PackedPlate: 51 ms
</code></pre>

<p>Разница очевидна. Процессору неудобно работать с плотно упакованными структурами, поэтому код значительно замедляется.</p>

</body>
</html>
