<!DOCTYPE html>
<html>
<head>
  <title>Другие виды наследования</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta charset="utf-8">
<style>body{font-family:Helvetica,arial,sans-serif;font-size:14px;line-height:1.6;background-color:#fff;padding:30px;color:#333;max-width:1140px;margin:0 auto}body > :first-child{margin-top:0!important}body > :last-child{margin-bottom:0!important}a{color:#4183C4;text-decoration:none}a.absent{color:#c00}a.anchor{display:block;padding-left:30px;margin-left:-30px;cursor:pointer;position:absolute;top:0;left:0;bottom:0}h1,h2,h3,h4,h5,h6{margin:20px 0 10px;padding:0;font-weight:700;-webkit-font-smoothing:antialiased;cursor:text;position:relative}h2:first-child,h1:first-child,h1:first-child + h2,h3:first-child,h4:first-child,h5:first-child,h6:first-child{margin-top:0;padding-top:0}h1:hover a.anchor,h2:hover a.anchor,h3:hover a.anchor,h4:hover a.anchor,h5:hover a.anchor,h6:hover a.anchor{text-decoration:none}h1 tt,h1 code{font-size:inherit}h2 tt,h2 code{font-size:inherit}h3 tt,h3 code{font-size:inherit}h4 tt,h4 code{font-size:inherit}h5 tt,h5 code{font-size:inherit}h6 tt,h6 code{font-size:inherit}h1{font-size:28px;color:#000}h2{font-size:24px;border-bottom:1px solid #ccc;color:#000}h3{font-size:18px}h4{font-size:16px}h5{font-size:14px}h6{color:#777;font-size:14px}p,blockquote,ul,ol,dl,li,table,pre{margin:15px 0}hr {padding:0;margin-bottom:-8px;height:1px;border:none;background:black}body > h2:first-child{margin-top:0;padding-top:0}body > h1:first-child{margin-top:0;padding-top:0}body > h1:first-child + h2{margin-top:0;padding-top:0}body > h3:first-child,body > h4:first-child,body > h5:first-child,body > h6:first-child{margin-top:0;padding-top:0}a:first-child h1,a:first-child h2,a:first-child h3,a:first-child h4,a:first-child h5,a:first-child h6{margin-top:0;padding-top:0}h1 p,h2 p,h3 p,h4 p,h5 p,h6 p{margin-top:0}li p.first{display:inline-block}ul,ol{padding-left:30px}ul :first-child,ol :first-child{margin-top:0}ul :last-child,ol :last-child{margin-bottom:0}dl{padding:0}dl dt{font-size:14px;font-weight:700;font-style:italic;padding:0;margin:15px 0 5px}dl dt:first-child{padding:0}dl dt > :first-child{margin-top:0}dl dt > :last-child{margin-bottom:0}dl dd{margin:0 0 15px;padding:0 15px}dl dd > :first-child{margin-top:0}dl dd > :last-child{margin-bottom:0}blockquote{border-left:4px solid #ddd;padding:0 15px;color:#777}blockquote > :first-child{margin-top:0}blockquote > :last-child{margin-bottom:0}table{padding:0}table tr{border-top:1px solid #ccc;background-color:#fff;margin:0;padding:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:700;border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr td{border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr th :first-child,table tr td :first-child{margin-top:0}table tr th :last-child,table tr td :last-child{margin-bottom:0}img{max-width:100%;display:block}span.frame{display:block;overflow:hidden}span.frame > span{border:1px solid #ddd;display:block;float:left;overflow:hidden;margin:13px 0 0;padding:7px;width:auto}span.frame span img{display:block;float:left}span.frame span span{clear:both;color:#333;display:block;padding:5px 0 0}span.align-center{display:block;overflow:hidden;clear:both}span.align-center > span{display:block;overflow:hidden;margin:13px auto 0;text-align:center}span.align-center span img{margin:0 auto;text-align:center}span.align-right{display:block;overflow:hidden;clear:both}span.align-right > span{display:block;overflow:hidden;margin:13px 0 0;text-align:right}span.align-right span img{margin:0;text-align:right}span.float-left{display:block;margin-right:13px;overflow:hidden;float:left}span.float-left span{margin:13px 0 0}span.float-right{display:block;margin-left:13px;overflow:hidden;float:right}span.float-right > span{display:block;overflow:hidden;margin:13px auto 0;text-align:right}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px}pre code{margin:0;padding:0;white-space:pre;border:none;background:transparent}.highlight pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre code,pre tt{background-color:transparent;border:none}.slasher{color:#000000}</style></head>
<body>

<h1>Другие виды наследования</h1>

<p>Публичное наследование — основной вид наследования в C++. Оно выражает отношение «‎является»‎ между классами. Его ещё называют наследованием интерфейса, так как публичные методы и данные родителя остаются публичными методами класса-наследника:</p>

<pre><code class="language-cpp">class Parent {...};
// Класс Child публично унаследован от класса Parent
class Child : public Parent {...};

// Структуры по умолчанию используют публичное наследование
struct ChildStruct : Parent {...};
</code></pre>

<p>Однако C++ поддерживает и другие, реже используемые виды наследования.</p>

<h3>Приватное наследование</h3>

<p>Приватное наследование — второй по распространённости вид наследования в C++. При приватном наследовании публичные и защищённые методы и данные родителя становятся приватными в классе-наследнике. Они доступны только классу-наследнику, но не коду вне его.</p>

<p>Поэтому приватное наследование называется <strong>наследованием реализации</strong> — класс-наследник унаследовал детали реализации своего родителя, но не его интерфейс. Наследник предоставляет свой набор публичных методов, с которым должны работать клиенты.</p>

<p>Чтобы обозначить приватное наследование в объявлении класса, перед именем родительского класса пишут ключевое слово <code>private</code>. По умолчанию классы в C++ наследуются приватно, а структуры — публично:</p>

<pre><code class="language-cpp">class Parent {
public:
    void ParentMethod();
    ...
};
// Класс Child приватно унаследован от Parent
class Child : private Parent {
public:
    void ChildMethod() {
        ParentMethod(); // Классу Child доступны публичные и защищённые методы родителя
    }
};
// Тоже приватное наследование: классы по умолчанию наследуются приватно
class Child1 : Parent {...};

int main() {
    Child child;
    
    // Не скомпилируется: в классе Child метод ParentMethod стал приватным
    // child.ParentMethod();

    // Класс Child предоставляет свой набор публичных методов
    child.ChildMethod();
}
</code></pre>

<p>Приватное наследование выражает другой тип отношений между классами — «‎реализован посредством»‎. Класс-наследник реализован посредством родительского класса.</p>

<p>С точки зрения кода вне класса приватное наследование неотличимо от композиции. По сравнению с композицией наследование создаёт более тесную связь между классами. В результате будет больше причин для изменений производного класса при изменении класса-родителя. Поэтому используйте композицию везде, где возможно, а приватное наследование — там, где это необходимо.</p>

<p>Вот несколько ситуаций, когда приватное наследование имеет преимущества перед композицией:</p>

<ul>
<li>При приватном наследовании класс-наследник может переопределить виртуальные методы своего родителя. При композиции для этого нужно создать вспомогательный класс, переопределяющий виртуальные методы, и использовать его как часть производного класса:</li>
</ul>

<pre><code class="language-cpp">class Base {
public:
    // Реализует паттерн «‎Шаблонный метод»‎
    void Algorithm() {
        Step1();
        Step2();
    }
private:
    virtual void Step1(); // Этот шаг может быть переопределён подклассами
    void Step2();
};

// --- Приватное наследование ---
class Child : Base {
public:
    void DoSomething() {
        Algorithm();
    }
private:
    void Step1() override {...} // Переопределяем шаг алгоритма
};

// --- Композиция ---
class Composite {
public:
    void DoSomething() {
        child_.Algorithm();
    }
private:
    class Child : public Base {
    private:
        void Step1() override {...}
    }
    Child child_; // Используем Child посредством композиции
};
</code></pre>

<ul>
<li>В приватном наследовании классу-наследнику доступны не только публичные методы родителя, но и защищённые. При композиции защищённые методы используемого класса недоступны.</li>
</ul>

<p>При наследовании, включая приватное, класс-наследник может «вынести»‎ публичные или защищённые данные и методы класса в свою публичную область видимости. Так, приватное наследование от <code>std::variant</code> позволяет упростить реализацию класса <code>json::Node</code>.</p>

<p>Решение, использующее композицию:</p>

<pre><code class="language-cpp">namespace json {
...
class Node final {
public:
    using Value = std::variant&lt;std::nullptr_t, Array, Dict, bool, int, double, std::string&gt;;
    Node() = default;
    Node(std::nullptr_t);
    Node(int val);
    Node(double val);
    Node(std::string val);
    Node(Array val);
    Node(Dict val);
    Node(bool val);

    bool IsInt() const {
        return std::holds_alternative&lt;int&gt;(value_);
    }
    int AsInt() const {
        using namespace std::literals;
        if (!IsInt()) {
            throw std::logic_error(&quot;Not an int&quot;s);
        }
        return std::get&lt;int&gt;(value_);
    }
    ...
private:
    Value value_;
};
...
} // namespace json
</code></pre>

<p>Унаследовав <code>json::Node</code> приватно от <code>std::variant</code>, мы сделаем недоступным неявное преобразование типа <code>Node</code> к типу <code>variant</code>. А с использованием <code>using</code> сделаем доступными конструкторы класса <code>variant</code>, включая универсальный конструктор из содержащихся в JSON значений:</p>

<pre><code class="language-cpp">namespace json {
...
class Node final
    : private std::variant&lt;std::nullptr_t, Array, Dict, bool, int, double, std::string&gt; 
{
public:
    // Делаем доступными все конструкторы родительского класса variant
    using variant::variant;

    bool IsInt() const {
        return std::holds_alternative&lt;int&gt;(*this);
    }
    int AsInt() const {
        using namespace std::literals;
        if (!IsInt()) {
            throw std::logic_error(&quot;Not an int&quot;s);
        }
        return std::get&lt;int&gt;(*this);
    }
    ...
};
...
} // namespace json
</code></pre>

<p>При приватном наследовании становится недоступным преобразование класса-наследника к классу-родителю. Неявное или явное преобразование вызовет ошибку компиляции. Приватное наследование — это не наследование интерфейса!</p>

<pre><code class="language-cpp">class Parent {...};
class Child : Parent {...};

void PlayWithParent(Parent&amp; parent);

int main() {
    Child c;
    PlayWithParent(c); // Ошибка компиляции
    Parent* p = dynamic_cast&lt;Parent*&gt;(&amp;c); // Ошибка компиляции
}
</code></pre>

<p>Это ограничение касается кода за пределами класса-наследника. Так как классу-наследнику доступен интерфейс родителя, внутри методов класса разрешено преобразование типа вверх по иерархии классов.</p>

<p>Для иллюстрации такой полезной возможности рассмотрим класс <code>Timer</code>, который о каждом тике уведомляет своего наблюдателя, реализующего интерфейс <code>TimerObserver</code>:</p>

<pre><code class="language-cpp">class TimerObserver {
public:
    // Вызывается при очередном тике таймера
    virtual void OnTick(int counter) = 0;

protected:
    // Timer не владеет своими наблюдателями,
    // поэтому TimerObserver не предназначен для полиморфного удаления
    ~TimerObserver() = default;
};

class Timer {
public:
    Timer() = default;

    // Запрещаем копирование и присваивание Timer, чтобы не думать о том, 
    // должна ли копия таймера уведомлять наблюдателей таймера-оригинала
    Timer&amp; operator=(const Timer&amp;) = delete;
    Timer(const Timer&amp;) = delete;

    void SetObserver(TimerObserver* observer) {
        observer_ = observer;
    }

    void Tick() {
        ++tick_counter_;
        if (observer_) {
            observer_-&gt;OnTick(tick_counter_);
        }
    }

private:
    TimerObserver* observer_ = nullptr;
    int tick_counter_ = 0;
};
</code></pre>

<p>Класс <code>TimerDisplay</code> приватно реализует интерфейс <code>TimerObserver</code>. В своём конструкторе <code>TimerDisplay</code> регистрирует себя в роли наблюдателя переданного ему таймера, а в деструкторе отписывается от получения уведомлений. Если бы использовалось публичное наследование, внешний код мог бы вызвать метод <code>OnTick</code> напрямую у <code>TimerDisplay</code> или подписать его на получение событий у другого таймера:</p>

<pre><code class="language-cpp">// Благодаря приватному наследованию от Timer, преобразование TimerDisplay к TimerObserver
// будет недоступно вне класса TimerDisplay.
class TimerDisplay : TimerObserver {
public:
    TimerDisplay(Timer&amp; timer, string name)
        : timer_(timer)
        , name_(move(name))  //
    {
        // Внутри методов класса доступно преобразование к TimerObserver,
        // поэтому TimerDisplay* будет преобразована к типу TimerObserver*
        timer_.SetObserver(this);
    }

    // Запрещаем копирование и присваивание, чтобы не задумываться о том,
    // должна ли копия TimerDisplay в своём деструкторе сбрасывать наблюдателя у timer_
    TimerDisplay(const TimerDisplay&amp;) = delete;
    TimerDisplay&amp; operator=(const TimerDisplay&amp;) = delete;

    ~TimerDisplay() {
        // Надо отписаться от своего таймера, чтобы после нашей смерти он не пытался нас уведомить
        timer_.SetObserver(nullptr);
    }

private:
    void OnTick(int counter) override {
        cout &lt;&lt; name_ &lt;&lt; &quot; tick #&quot;sv &lt;&lt; counter &lt;&lt; endl;
    }
    Timer&amp; timer_;
    string name_;
};
</code></pre>

<p>Создадим пару таймеров. Дисплей, подключённый к таймеру, будет отображать текущее количество тиков при каждом вызове метода <code>Tick</code>.</p>

<pre><code class="language-cpp">int main() {
    Timer timer1;
    Timer timer2;

    TimerDisplay display1{timer1, &quot;Timer 1&quot;s};
    timer1.Tick();
    timer2.Tick();
    {
        cout &lt;&lt; &quot;---&quot;sv &lt;&lt; endl;
        TimerDisplay display2{timer2, &quot;Timer 2&quot;s};
        timer1.Tick();
        timer2.Tick();
        cout &lt;&lt; &quot;---&quot;sv &lt;&lt; endl;
        // При выходе из блока объект display2 отпишется от получения уведомлений от timer2
    }

    timer1.Tick();
    timer2.Tick();
}
</code></pre>

<p>Счётчик тиков второго таймера будет отображаться только внутри вложенного блока функции <code>main</code>:</p>

<pre><code class="language-cpp">Timer 1 tick #1
---
Timer 1 tick #2
Timer 2 tick #2
---
Timer 1 tick #3
</code></pre>

<h3>Защищённое наследование</h3>

<p>При защищённом наследовании публичные и защищённые данные и методы родителя становятся защищёнными в классе-наследнике. Поэтому наследники производного класса также смогут ими пользоваться:</p>

<pre><code class="language-cpp">class Parent {
public:
    void ParentMethod();
    virtual void ParentMethod2();
};

class Child : protected Parent {
public:
    void ChildMethod() {
        ParentMethod();
    }
};

// Внук
class GrandChild : public Child {
public:
    void GrandChildMethod() {
        ParentMethod(); // Внукам также доступны методы Parent
    }
};
</code></pre>

<p>Необходимость в этом экзотическом виде наследования на практике встречается крайне редко.</p>

<h3>Итоги</h3>

<p>На иллюстрации показано сравнение областей видимости при использовании различных вариантов наследования:</p>

<p><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIxMiIgaGVpZ2h0PSI1NzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIG92ZXJmbG93PSJoaWRkZW4iPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxyZWN0IHg9IjM1IiB5PSI0OSIgd2lkdGg9IjEyMTIiIGhlaWdodD0iNTc1Ii8+PC9jbGlwUGF0aD48bGluZWFyR3JhZGllbnQgeDE9IjE3OCIgeTE9IjE1Ny41IiB4Mj0iMTc4IiB5Mj0iNTMzLjUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBzcHJlYWRNZXRob2Q9InJlZmxlY3QiIGlkPSJmaWxsMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjQThCN0RGIi8+PHN0b3Agb2Zmc2V0PSIwLjUiIHN0b3AtY29sb3I9IiM5QUFCRDkiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM4NzlFRDciLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCB4MT0iNDgzIiB5MT0iMTU3LjUiIHgyPSI0ODMiIHkyPSI2MjMuNSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHNwcmVhZE1ldGhvZD0icmVmbGVjdCIgaWQ9ImZpbGwyIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNBOEI3REYiLz48c3RvcCBvZmZzZXQ9IjAuNSIgc3RvcC1jb2xvcj0iIzlBQUJEOSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzg3OUVENyIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IHgxPSI3ODgiIHkxPSIxNTcuNSIgeDI9Ijc4OCIgeTI9IjYyMy41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgc3ByZWFkTWV0aG9kPSJyZWZsZWN0IiBpZD0iZmlsbDMiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI0E4QjdERiIvPjxzdG9wIG9mZnNldD0iMC41IiBzdG9wLWNvbG9yPSIjOUFBQkQ5Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjODc5RUQ3Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgeDE9IjEwOTIuNSIgeTE9IjE1Ny41IiB4Mj0iMTA5Mi41IiB5Mj0iNjIzLjUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBzcHJlYWRNZXRob2Q9InJlZmxlY3QiIGlkPSJmaWxsNCI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjQThCN0RGIi8+PHN0b3Agb2Zmc2V0PSIwLjUiIHN0b3AtY29sb3I9IiM5QUFCRDkiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM4NzlFRDciLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDApIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzUgLTQ5KSI+PHJlY3QgeD0iMzYwLjUiIHk9Ijk3LjUwMDEiIHdpZHRoPSIyNTUiIGhlaWdodD0iNDUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0iIzkyRDA1MCIvPjx0ZXh0IGZvbnQtZmFtaWx5PSJDYWxpYnJpLENhbGlicmlfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MzEuNDI3IDEyOCkiPtCf0YPQsdC70LjRh9C90L7QtTwvdGV4dD48cmVjdCB4PSI2NTUuNSIgeT0iOTcuNTAwMSIgd2lkdGg9IjI1NCIgaGVpZ2h0PSI0NSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjRkZGRjAwIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcxNS4zMjEgMTI4KSI+0JfQsNGJ0LjRidC10L3QvdC+0LU8L3RleHQ+PHJlY3QgeD0iOTYwLjUiIHk9Ijk3LjUwMDEiIHdpZHRoPSIyNTQiIGhlaWdodD0iNDUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0iI0ZGMDAwMCIvPjx0ZXh0IGZvbnQtZmFtaWx5PSJDYWxpYnJpLENhbGlicmlfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDM5LjAyIDEyOCkiPtCX0LDQutGA0YvRgtC+0LU8L3RleHQ+PHBhdGggZD0iTTQ1LjUwMDEgMTU3LjUgMjY2LjMzMiAxNTcuNUMyOTAuNzI1IDE1Ny41IDMxMC41IDE3Ny4yNzUgMzEwLjUgMjAxLjY2OEwzMTAuNSA1MzMuNSA0NS41MDAxIDUzMy41WiIgc3Ryb2tlPSIjNDQ3MkM0IiBzdHJva2Utd2lkdGg9IjAuNjY2NjY3IiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0idXJsKCNmaWxsMSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjx0ZXh0IGZvbnQtZmFtaWx5PSJDYWxpYnJpLENhbGlicmlfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NC45OTk0IDE3OSkiPmNsYXNzIFBhcmVudDwvdGV4dD48cmVjdCB4PSI2Mi41MDAxIiB5PSIyMzIuNSIgd2lkdGg9IjIzNSIgaGVpZ2h0PSI3NSIgc3Ryb2tlPSIjMkY1MjhGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjOTJEMDUwIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0Ni42NDcgMjc4KSI+cHVibGljOjwvdGV4dD48cmVjdCB4PSI2Mi41MDAxIiB5PSIzMjguNSIgd2lkdGg9IjIzNSIgaGVpZ2h0PSI3NSIgc3Ryb2tlPSIjMkY1MjhGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjRkZGRjAwIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyOC40MzQgMzc0KSI+cHJvdGVjdGVkOjwvdGV4dD48cmVjdCB4PSI2Mi41MDAxIiB5PSI0MjguNSIgd2lkdGg9IjIzNSIgaGVpZ2h0PSI3NSIgc3Ryb2tlPSIjMkY1MjhGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjRkYwMDAwIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0Mi4yMzEgNDczKSI+cHJpdmF0ZTo8L3RleHQ+PHBhdGggZD0iTTM1MC41IDE1Ny41IDU3MS4zMzIgMTU3LjVDNTk1LjcyNiAxNTcuNSA2MTUuNSAxNzcuMjc1IDYxNS41IDIwMS42NjhMNjE1LjUgNjIzLjUgMzUwLjUgNjIzLjVaIiBzdHJva2U9IiM0NDcyQzQiIHN0cm9rZS13aWR0aD0iMC42NjY2NjciIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSJ1cmwoI2ZpbGwyKSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1OS45MjIgMTc5KSI+Yzx0c3BhbiBmb250LXNpemU9IjE5IiB4PSI3LjgzMzM0IiB5PSIwIj5sYXNzIENoaWxkOiA8L3RzcGFuPjx0c3BhbiBmb250LXNpemU9IjE5IiB4PSI4Ny41IiB5PSIwIj5wdWJsaWMgPC90c3Bhbj48dHNwYW4gZm9udC1zaXplPSIxOSIgeD0iMTM3LjY2NyIgeT0iMCI+UGFyZW50PC90c3Bhbj48L3RleHQ+PHJlY3QgeD0iMzY3LjUiIHk9IjIzMi41IiB3aWR0aD0iMjM0IiBoZWlnaHQ9Ijc1IiBzdHJva2U9IiMyRjUyOEYiIHN0cm9rZS13aWR0aD0iMS4zMzMzMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjgiIGZpbGw9IiM5MkQwNTAiLz48dGV4dCBmb250LWZhbWlseT0iQ2FsaWJyaSxDYWxpYnJpX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUxLjU3IDI3OCkiPnB1YmxpYzo8L3RleHQ+PHJlY3QgeD0iMzY3LjUiIHk9IjMyOC41IiB3aWR0aD0iMjM0IiBoZWlnaHQ9Ijc1IiBzdHJva2U9IiMyRjUyOEYiIHN0cm9rZS13aWR0aD0iMS4zMzMzMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjgiIGZpbGw9IiNGRkZGMDAiLz48dGV4dCBmb250LWZhbWlseT0iQ2FsaWJyaSxDYWxpYnJpX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDMzLjM1NiAzNzQpIj5wcm90ZWN0ZWQ6PC90ZXh0PjxwYXRoIGQ9Ik02NTUuNSAxNTcuNSA4NzYuMzMyIDE1Ny41QzkwMC43MjYgMTU3LjUgOTIwLjUgMTc3LjI3NSA5MjAuNSAyMDEuNjY4TDkyMC41IDYyMy41IDY1NS41IDYyMy41WiIgc3Ryb2tlPSIjNDQ3MkM0IiBzdHJva2Utd2lkdGg9IjAuNjY2NjY3IiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0idXJsKCNmaWxsMykiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjx0ZXh0IGZvbnQtZmFtaWx5PSJDYWxpYnJpLENhbGlicmlfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NjQuODQ0IDE3OSkiPmNsYXNzIENoaWxkOiBwcm90ZWN0ZWQgUGFyZW50PC90ZXh0PjxwYXRoIGQ9Ik05NjAuNSAxNTcuNSAxMTgwLjUgMTU3LjVDMTIwNC44IDE1Ny41IDEyMjQuNSAxNzcuMiAxMjI0LjUgMjAxLjUwMUwxMjI0LjUgNjIzLjUgOTYwLjUgNjIzLjVaIiBzdHJva2U9IiM0NDcyQzQiIHN0cm9rZS13aWR0aD0iMC42NjY2NjciIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSJ1cmwoI2ZpbGw0KSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk2OS43NjYgMTc5KSI+Y2xhc3MgQ2hpbGQ6IHByaXZhdGUgUGFyZW50PC90ZXh0PjxwYXRoIGQ9Ik0zNS41MDAxIDIxNy41IDEyNDUuMDIgMjE3LjUiIHN0cm9rZT0iIzQ0NzJDNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgc3Ryb2tlLWRhc2hhcnJheT0iMTIgOSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHBhdGggZD0iTTM1LjUwMDEgMzE1LjUgMTI0NS4wMiAzMTUuNSIgc3Ryb2tlPSIjNDQ3MkM0IiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBzdHJva2UtZGFzaGFycmF5PSIxMiA5IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBkPSJNMzUuNTAwMSA0MTMuNSAxMjQ1LjAyIDQxMy41IiBzdHJva2U9IiM0NDcyQzQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjgiIHN0cm9rZS1kYXNoYXJyYXk9IjEyIDkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik0zNS41MDAxIDUxOC41IDEyNDUuMDIgNTE4LjUiIHN0cm9rZT0iIzQ0NzJDNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgc3Ryb2tlLWRhc2hhcnJheT0iMTIgOSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHJlY3QgeD0iNjcyLjUiIHk9IjIzMi41IiB3aWR0aD0iMjM0IiBoZWlnaHQ9IjE3MSIgc3Ryb2tlPSIjMkY1MjhGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjRkZGRjAwIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDczOC4yNzggMzI2KSI+cHJvdGVjdGVkOjwvdGV4dD48cmVjdCB4PSI5NzAuNSIgeT0iMjMyLjUiIHdpZHRoPSIyNDEiIGhlaWdodD0iMTcxIiBzdHJva2U9IiMyRjUyOEYiIHN0cm9rZS13aWR0aD0iMS4zMzMzMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjgiIGZpbGw9IiNGRjAwMDAiLz48dGV4dCBmb250LWZhbWlseT0iQ2FsaWJyaSxDYWxpYnJpX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA1My41NSAzMjYpIj5wcml2YXRlOjwvdGV4dD48cmVjdCB4PSIzNzEuNSIgeT0iNTMzLjUiIHdpZHRoPSIyMzQiIGhlaWdodD0iNzUiIHN0cm9rZT0iIzJGNTI4RiIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgZmlsbD0iIzAwQjBGMCIvPjx0ZXh0IGZvbnQtZmFtaWx5PSJDYWxpYnJpLENhbGlicmlfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDcuNDMyIDU2MykiPnA8dHNwYW4gZm9udC1zaXplPSIyNCIgeD0iMTIuNjY2NyIgeT0iMCI+dWJsaWM8L3RzcGFuPjx0c3BhbiBmb250LXNpemU9IjI0IiB4PSI1OS4xNjY3IiB5PSIwIj4sIHByaXZhdGUgJmFtcDsgPC90c3Bhbj48dHNwYW4gZm9udC1zaXplPSIyNCIgeD0iMzIuNDUzMyIgeT0iMjkiPnByb3RlY3RlZDwvdHNwYW4+PC90ZXh0PjxyZWN0IHg9IjY3Ni41IiB5PSI1MzMuNSIgd2lkdGg9IjIzNCIgaGVpZ2h0PSI3NSIgc3Ryb2tlPSIjMkY1MjhGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBmaWxsPSIjMDBCMEYwIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcxMi4zNTQgNTYzKSI+cDx0c3BhbiBmb250LXNpemU9IjI0IiB4PSIxMi42NjY3IiB5PSIwIj51YmxpYzwvdHNwYW4+PHRzcGFuIGZvbnQtc2l6ZT0iMjQiIHg9IjU5LjE2NjciIHk9IjAiPiwgcHJpdmF0ZSAmYW1wOyA8L3RzcGFuPjx0c3BhbiBmb250LXNpemU9IjI0IiB4PSIzMi40NTM0IiB5PSIyOSI+cHJvdGVjdGVkPC90c3Bhbj48L3RleHQ+PHJlY3QgeD0iOTcwLjUiIHk9IjUzMy41IiB3aWR0aD0iMjM0IiBoZWlnaHQ9Ijc1IiBzdHJva2U9IiMyRjUyOEYiIHN0cm9rZS13aWR0aD0iMS4zMzMzMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjgiIGZpbGw9IiMwMEIwRjAiLz48dGV4dCBmb250LWZhbWlseT0iQ2FsaWJyaSxDYWxpYnJpX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwNy4xMSA1NjMpIj5wPHRzcGFuIGZvbnQtc2l6ZT0iMjQiIHg9IjEyLjY2NjciIHk9IjAiPnVibGljPC90c3Bhbj48dHNwYW4gZm9udC1zaXplPSIyNCIgeD0iNTkuMTY2NiIgeT0iMCI+LCBwcml2YXRlICZhbXA7IDwvdHNwYW4+PHRzcGFuIGZvbnQtc2l6ZT0iMjQiIHg9IjMyLjQ1MzQiIHk9IjI5Ij5wcm90ZWN0ZWQ8L3RzcGFuPjwvdGV4dD48cmVjdCB4PSIzNzEuNSIgeT0iNDI4LjUiIHdpZHRoPSIyMzQiIGhlaWdodD0iNzUiIHN0cm9rZT0iIzJGNTI4RiIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbWl0ZXJsaW1pdD0iOCIgc3Ryb2tlLWRhc2hhcnJheT0iNS4zMzMzMyA0IiBmaWxsPSJub25lIi8+PHRleHQgZm9udC1mYW1pbHk9IkNhbGlicmksQ2FsaWJyaV9NU0ZvbnRTZXJ2aWNlLHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSI0MDAiIGZvbnQtc2l6ZT0iMjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyOC4zNzggNDczKSI+0L3QtdC00L7RgdGC0YPQv9C90L48L3RleHQ+PHJlY3QgeD0iNjc2LjUiIHk9IjQyOC41IiB3aWR0aD0iMjM0IiBoZWlnaHQ9Ijc1IiBzdHJva2U9IiMyRjUyOEYiIHN0cm9rZS13aWR0aD0iMS4zMzMzMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjgiIHN0cm9rZS1kYXNoYXJyYXk9IjUuMzMzMzMgNCIgZmlsbD0ibm9uZSIvPjx0ZXh0IGZvbnQtZmFtaWx5PSJDYWxpYnJpLENhbGlicmlfTVNGb250U2VydmljZSxzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iNDAwIiBmb250LXNpemU9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MzMuMzAxIDQ3MykiPtC90LXQtNC+0YHRgtGD0L/QvdC+PC90ZXh0PjxyZWN0IHg9Ijk3MC41IiB5PSI0MjguNSIgd2lkdGg9IjIzNCIgaGVpZ2h0PSI3NSIgc3Ryb2tlPSIjMkY1MjhGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1taXRlcmxpbWl0PSI4IiBzdHJva2UtZGFzaGFycmF5PSI1LjMzMzMzIDQiIGZpbGw9Im5vbmUiLz48dGV4dCBmb250LWZhbWlseT0iQ2FsaWJyaSxDYWxpYnJpX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAyOC4wNiA0NzMpIj7QvdC10LTQvtGB0YLRg9C/0L3QvjwvdGV4dD48cmVjdCB4PSIzNTAuNSIgeT0iNTIuNTAwMSIgd2lkdGg9Ijg3NCIgaGVpZ2h0PSI5NiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGZpbGw9Im5vbmUiLz48dGV4dCBmb250LWZhbWlseT0iQ2FsaWJyaSxDYWxpYnJpX01TRm9udFNlcnZpY2Usc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjg0LjgyMyA3OSkiPtCS0LjQtNGLPHRzcGFuIGZvbnQtc2l6ZT0iMjQiIHg9IjYwLjgzMzMiIHk9IjAiPtC90LDRgdC70LXQtNC+0LLQsNC90LjRjzwvdHNwYW4+PC90ZXh0PjwvZz48L3N2Zz4=" alt="image" /></p>

<p>Используйте публичное наследование, чтобы выразить между классами отношение «‎является»‎.</p>

<p>Используйте приватное наследование, чтобы выразить отношение «реализован с помощью»‎ и использовать в одном классе функциональность родительского класса, не раскрывая внешнему коду его интерфейс. По возможности отдавайте предпочтение композиции и используйте приватное наследование, когда композиция не позволяет эффективно реализовать задуманное.</p>

<p>Защищённое наследование — экзотическая форма наследования и применяется крайне редко.</p>

<hr>

<p>Какой тип наследования следует использовать, чтобы реализовать класс <code>Apple</code> на основе класса <code>Fruit</code>? Выберите один вариант ответа.</p>

<ul>
<li><p>Публичное</p></li>

<li><p>Приватное наследование или композицию</p></li>

<li><p>Защищённое</p></li>
</ul>

<hr>

<p>Какой тип наследования следует использовать, чтобы реализовать класс <code>Stack</code> (стек) на основе класса <code>Vector</code>? Выберите один вариант ответа.</p>

<ul>
<li><p>Публичное</p></li>

<li><p>Приватное наследование или композицию</p></li>

<li><p>Защищённое</p></li>
</ul>

</body>
</html>
